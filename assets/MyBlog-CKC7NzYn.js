import{b as x,c as m,d as f,j as e,e as g,L as h}from"./index-UUNOWx87.js";function u(){return x({queryKey:["blogs"],queryFn:async()=>(await m.getEntries({content_type:"blog",order:["-fields.date"]})).items})}function b(){const{data:t,isLoading:a,isError:i}=u(),n=f();if(a)return e.jsx(g,{});if(i)return e.jsx("div",{children:"Error loading blog posts."});const o=t==null?void 0:t.map((s,l)=>e.jsxs("div",{className:"flex items-center odd:bg-gray-200 even:bg-bg-color p-3 justify-center-safe gap-10",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs(h,{to:`/blog/${s.fields.uniqueUrl}`,className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-600 text-sm",children:["#",l+1]}),e.jsx("h3",{className:"font-semibold text-sky-600 text-lg md:text-2xl",children:s.fields.title})]}),e.jsx("p",{className:"text-gray-600 text-sm overflow-ellipsis overflow-hidden whitespace-nowrap max-w-[25ch] sm:max-w-fit",children:s.fields.description})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.fields.date})]},s.sys.id)),r=t==null?void 0:t.map(s=>s.fields.tag).flat(),d=r==null?void 0:r.reduce((s,l)=>(s[l]=(s[l]||0)+1,s),{}),c=Object.entries(d||{}).map(([s,l])=>e.jsxs("div",{className:"flex gap-2 items-center mb-2 bg-p-color w-fit px-3 py-2 rounded-md cursor-pointer hover:bg-s-color/80 transition-all duration-300 ease-in-out",onClick:()=>n(`/blog/tags/${s}`),children:[e.jsx("span",{className:"text-white font-medium",children:s}),e.jsx("span",{className:"bg-s-color text-white text-xs font-semibold px-2 py-1 rounded-full",children:l})]},s));return e.jsxs("section",{className:"mb-10",children:[e.jsx("h1",{className:"text-3xl md:text-5xl mx-auto text-center font-bold text-p-color",children:"المقالات"}),e.jsx("h2",{className:"text-2xl mt-4 md:text-3xl font-semibold text-s-color ms-10",children:"أحدث المقالات ✍️"}),e.jsxs("div",{className:"flex max-md:flex-col gap-5",children:[e.jsx("div",{className:"space-y-4 mt-4 w-full text-center bg-p-color/4 in-h-[80vh] p-8 rounded-lg md:basis-5xl max-md:order-2",children:o}),e.jsxs("div",{className:"md:basis-1/4 p-5 bg-p-color/4 rounded-lg h-fit mt-4 md:sticky top-20 md:self-start",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-s-color",children:"التصنيفات"}),c]})]})]})}export{b as default};
